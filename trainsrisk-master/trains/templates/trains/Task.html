{% extends "global/Page.html" %}
{% load otree static %}

{% block title %}
    Task
{% endblock %}

{% block content %}
    {{ form.task.errors }}
    <div class="card">
        <div class="card-body">
            <h5 class="card-title">Instructions:</h5>
            To win click anywhere on the green field while it is in within the arc
        </div>
    </div>
    <div id="p5cont"></div>
    <div id="speed_slider" class="my-3"></div>
    <button type="button" class="btn btn-primary my-3">
        Speed: <span class="badge badge-light speed-ind"></span>
    </button>
    <input type="hidden" name="task" value="False" id="id_task" name="task"/>
    {% next_button %}

{% endblock %}
{% block styles %}
    <link rel="stylesheet" type="text/css" href="https://code.jquery.com/ui/1.12.1/themes/ui-darkness/jquery-ui.css">
{% endblock %}
{% block scripts %}

    <script
            src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"
            integrity="sha256-T0Vest3yCU7pafRw9r+settMBX6JkKN06dqBnpQ8d30="
            crossorigin="anonymous"></script>
    <script>
        var speed = 0.01;
        var choose_difficulty = false
        var chosen_arc_id = {{player.difficulty|json  }};
        $('span.speed-ind').html(speed);
        refresh_speed = () => {
            speed = $("#speed_slider").slider("value") / 100;
            $('span.speed-ind').html(speed);
        }
        $(function () {
            $("#speed_slider").slider({
                orientation: "horizontal",
                range: "min",
                min: 0,
                max: 30,
                step: 0.1,
                value: speed * 100,
                slide: refresh_speed,
                change: refresh_speed
            });
            ;
        });
    </script>
    <script
            src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"
            integrity="sha256-T0Vest3yCU7pafRw9r+settMBX6JkKN06dqBnpQ8d30="
            crossorigin="anonymous"></script>

    <script src="{% static 'js/dist/train.js' %}"></script>

{% endblock %}